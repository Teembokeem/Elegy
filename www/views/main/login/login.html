<ion-view view-title="Login">
  <ion-content class="login-view">
    <img class="logo" src="img/logo.png" alt="">

    <div ng-if="!Login.trying" class="list login-form container">
      <div ng-if="!Login.forgot">
        <div class="row extrapad">
          <div class="col">
            <button ui-sref="app.user-signup" class="button blue ">
                Join
            </button>
          </div>
        </div>
        <div class="row extrapad">
          <div class="col">
            <button ng-click="Login.trying = true" class="button white ">
                Login
            </button>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <h2 class="or">- or -</h2>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <button ui-sref="app.referral" class="button light-blue ">
                Enter a Funeral Code
            </button>
          </div>
        </div>
      </div>
    </div>

    <div ng-if="Login.trying" class="list login-form container">
      <div class="row nopad">
        <div class="col">
          <label class="item item-input">
            <input type="text" placeholder="Email" ng-model="Login.credentials.email">
          </label>
        </div>
      </div>
      <span></span>
      <div class="row nopad">
        <div class="col">
          <label class="item item-input">
            <input type="password" placeholder="Password" ng-model="Login.credentials.password">
          </label>
        </div>
      </div>
      <br>
      <div ng-show="Login.error" class="row">
        <div class="col">
          <span class="bar bar-assertive">{{Login.error.message}}</span>
        </div>
      </div>
      <br>
      <div class="row nopad">
        <div class="col">
          <button ng-click="Login.authenticate()" class="button blue ">
              Login
          </button>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <button ng-click="Login.trying = false"  class="button clear">
              Cancel
          </button>
        </div>
      </div>
    </div>

    <div ng-if="Login.forgot" class="list login-form container">
      <h1>Forgot your password?</h1>
      <div class="row nopad">
        <div class="col">
          <label class="item item-input">
            <input type="text" placeholder="Email" ng-model="Login.credentials.email">
          </label>
        </div>
      </div>
      <span></span>
      <div class="row nopad">
        <div class="col">
          <label class="item item-input">
            <input type="password" placeholder="Password" ng-model="Login.credentials.password">
          </label>
        </div>
      </div>
      <br>
      <div class="row nopad">
        <div class="col">
          <button ng-click="Login.authenticate()" class="button blue ">
              Submit
          </button>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <button ng-click="Login.forgot = false"  class="button clear">
              Cancel
          </button>
        </div>
      </div>
    </div>

    <div>
      <br>
      <br>
      <div ng-if="!Login.trying" class="row" ng-click="Login.openTerms()">
        <div class="col">
          <a>Terms & Service</a>
        </div>
      </div>
      <div ng-if="Login.trying" class="row" ng-click="Login.forgot = true">
        <div class="col">
          <a>Forgot Password?</a>
        </div>
      </div>
    </div>

  </ion-content>
</ion-view>